<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>RUNNING ENTROPY - Test</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <!-- Main canvas -->
    <canvas id="gl-canvas" class="gl-canvas"></canvas>

    <!-- Scene information overlay -->
    <div id="scene-info" class="scene-info-overlay" style="display: none;">
        <div class="scene-info-content">
            <div class="scene-name">TEST SCENE</div>
            <div class="scene-progress">1/1 - 0%</div>
            <div class="scene-time">0s / 60s</div>
        </div>
    </div>

    <!-- Statistics overlay -->
    <div id="stats" class="stats-overlay" style="display: none;">
        <div class="stats-content">
            <div>FPS: 60.0</div>
            <div>Frame: 0</div>
            <div>Time: 0.0s</div>
            <div>Scene: Test Scene</div>
            <div>Progress: 0.0%</div>
        </div>
    </div>

    <!-- Controls overlay -->
    <div id="controls" class="controls-overlay">
        <div class="controls-content">
            <div class="control-group">
                <div class="control-title">Test Controls</div>
                <div class="control-item">I: Toggle Scene Info</div>
                <div class="control-item">S: Toggle Statistics</div>
                <div class="control-item">F: Toggle Fullscreen</div>
            </div>
        </div>
    </div>

    <!-- Loading screen -->
    <div id="loading" class="loading-overlay">
        <div class="loading-content">
            <div class="loading-title">RUNNING ENTROPY</div>
            <div class="loading-subtitle">Test Mode</div>
            <div class="loading-spinner"></div>
            <div class="loading-text">Initializing...</div>
        </div>
    </div>

    <!-- Error modal -->
    <div id="error-modal" class="error-modal" style="display: none;">
        <div class="error-content">
            <div class="error-title">Error</div>
            <div class="error-message">An error occurred</div>
            <button type="button" class="error-button" onclick="Utils.hideError()">OK</button>
        </div>
    </div>

    <!-- Scripts -->
    <script src="js/utils.js"></script>
    <script src="js/webgl-renderer.js"></script>
    <script src="js/input-manager.js"></script>
    <script src="js/gamepad-handler.js"></script>
    <script src="js/noise-generator.js"></script>

    <!-- Scene system -->
    <script src="js/scenes/Scene.js"></script>
    <script src="js/scenes/SceneManager.js"></script>
    <script src="js/scenes/EntropyMagmaScene.js"></script>
    <script src="js/scenes/GeometricEntropyScene.js"></script>
    <script src="js/scenes/ParticleEntropyScene.js"></script>

    <!-- Main application -->
    <script src="js/app.js"></script>

    <script>
        // Test initialization
        document.addEventListener('DOMContentLoaded', async () => {
            console.log('üß™ RUNNING ENTROPY Test Mode');

            try {
                const app = new RunningEntropyApp();
                const success = await app.initialize();

                if (success) {
                    app.start();
                    console.log('‚úÖ Test initialization successful');
                } else {
                    console.error('‚ùå Test initialization failed');
                }
            } catch (error) {
                console.error('üí• Test error:', error);
                Utils.showError(`Test failed: ${error.message}`, 'Test Error');
            }
        });
    </script>
</body>
</html>
